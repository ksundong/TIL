# 2020-04-10-TIL

## 오늘 할 일

- [x] 스크럼
- [ ] Board 출력 API 생성(Issue 생성 필요)
- [ ] Card 추가 API 구현(Card 생성, Log 생성) ⇒ log id 반환
- [ ] Log 요청 API 구현(Log 객체 반환)
- [ ] Custom Exception 설정
- [x] 배포 테스트(15:00)
- [x] 배포 (16:30)
- [x] 데모 (17:00)
- [x] 회고 (18:00)

## Ubuntu에서 nodejs 12 버전 설치하기

```
sudo curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -
sudo apt install -y nodejs
```

## NginX에 프론트 산출물 배포하기

```shell
git pull
cd FE
npx webpack
cp -rf dist/* /var/www/html/
```

경로가 알고보니 `/var/www/html` 이었다!!

## 도메인 객체 만들기

Spring Data JDBC가 생각보다 많이 똑똑하지 않아서 직접 해줘야하는게 많았다.

쿼리도 직접 작성하고, 반환하는 객체도 DTO 클래스로 따로 만들어줘야하는 불편함이 있었다.

그래도 여러 쿼리를 많이 쳐볼 수 있어서 좋았다.

문제가 된 것은 Card가 User를 참조는 하지만, User에서 따로 card를 관리하지는 않는데, User 타입 자체를 가지고 있으면 알아서 1:1 매핑을 해주려고 해서 문제가 되었다.

그래서 호눅스의 조언대로 Card 클래스에서는 Key 컬럼만 가지고 있도록 하고, CardDTO 클래스를 따로 만들어서 반환값을 전달받을 수 있도록 하였다.

`ColumnDTO` 클래스에서 `List<CardDTO>` 형식의 데이터를 만들려니 매우 복잡해졌다.

`Column` 클래스는 알아서 `List<Card>` 가 있으면 조회를 해주던데, 실제 적용하려니 매우 화가난다.

실제로 할당은 하려고 하는 것 같은데, LEFT OUTER JOIN을 써줘야 하나보다...

그래서 오늘은 여기까지만 하고 자는걸로 정했다!

내일은 Log 객체부터 일단 만들어봐야겠다.

## 오늘의 회고

- 잘한 점
  - 오늘은 다른 날 보다 더 집중해서 코딩을 했다.
  - 저녁에 그래도 실마리를 얻어서 어느정도 코딩을 진행할 수 있었다.
  - 다들 으쌰으쌰하는 분위기로 데모를 잘 마친 것 같다.
  - 다른 분들이 한 것을 보면서 반성을 하게 된 것 같다.
- 못한 점
  - 설계가 개판이라 스키마를 통째로 뜯어고치고 있다.
  - 자기 전에 Column 목록을 출력해보고 싶었는데, Card가 DTO로 반환되지 않고, Card로 반환되고 Column도 DTO로 바꾸다보니 매우 복잡한 상황에 봉착했다. 와 이거 주말에 해결 가능하려나...
  - 문서 정리가 좀 미흡하지 않았나 싶다.
  - 계획을 너무 못세운 것 같다.
- 보완점
  - 주말에라도 공부를 더 열심히하자.

## 내일 할 일

- [ ] 모각코
- [ ] 도메인 객체 만들기
- [ ] API 구현하기
- [ ] Custom Exception 설정하기