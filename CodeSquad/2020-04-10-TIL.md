# 2020-04-10-TIL

## 오늘 할 일

- [x] 스크럼
- [ ] Board 출력 API 생성(Issue 생성 필요)
- [ ] Card 추가 API 구현(Card 생성, Log 생성) ⇒ log id 반환
- [ ] Log 요청 API 구현(Log 객체 반환)
- [ ] Custom Exception 설정
- [x] 배포 테스트(15:00)
- [x] 배포 (16:30)
- [x] 데모 (17:00)
- [x] 회고 (18:00)

## Ubuntu에서 nodejs 12 버전 설치하기

```
sudo curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -
sudo apt install -y nodejs
```

## NginX에 프론트 산출물 배포하기

```shell
git pull
cd FE
npx webpack
cp -rf dist/* /var/www/html/
```

경로가 알고보니 `/var/www/html` 이었다!!

## 도메인 객체 만들기

Spring Data JDBC가 생각보다 많이 똑똑하지 않아서 직접 해줘야하는게 많았다.

쿼리도 직접 작성하고, 반환하는 객체도 DTO 클래스로 따로 만들어줘야하는 불편함이 있었다.

그래도 여러 쿼리를 많이 쳐볼 수 있어서 좋았다.

문제가 된 것은 Card가 User를 참조는 하지만, User에서 따로 card를 관리하지는 않는데, User 타입 자체를 가지고 있으면 알아서 1:1 매핑을 해주려고 해서 문제가 되었다.

그래서 호눅스의 조언대로 Card 클래스에서는 Key 컬럼만 가지고 있도록 하고, CardDTO 클래스를 따로 만들어서 반환값을 전달받을 수 있도록 하였다.

