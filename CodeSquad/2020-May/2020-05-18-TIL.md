# 2020-05-18-TIL

## 내일 할 일

- [ ] 팀 빌딩
- [ ] 페어프로그래밍
- [ ] 학습한 내용 정리
- [ ] 요구사항 분석
- [x] 코드스쿼드 수업

## 코드스쿼드 수업

- Hadoop(분산 파일 시스템)
  - Map Reduce
- LINE은 Redis를 사용해서 빠른 메시징, HBase는 하둡 기반의 무제한 확장이 가능한 분산 DB
- MySQL bulk insert
  - `load data local infile`을 사용한다.
- 성능 측정
  - 지정검색
  - 범위검색
  - count
  - 정렬
- 인덱스 생성 후 성능이 좋아질까?
  - 정렬 성능
  - 검색 성능
  - 무조건 성능
  - 오름차순 내림차순의 성능은 동일한가?
  - Selectivity란 무엇일까?
    - Selectivity와 인덱스
- 복합 인덱스 생성 및 성능 비교
  - 기존 인덱스 제거
  - 복합 인덱스 생성
    - 성능이 개선되었는가?

### 주기적으로 서버에 데이터를 넣는 작업

- 외부 업체에서 제공하는 csv 파일을 가지고 bulk insert하는 방법을 알아야 한다.
- `mysql -ueleven -peleven --local-infile test -e "LOAD DATA LOCAL INFILE 'hello.csv'  INTO TABLE user  FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n'"`

### 범위 검색

Date 같은 것을 범위검색 하면 Full scan을 하게된다. 따라서 걸린 시간은 Full scan하는데 걸린 시간이다.

인덱스가 되어있는 경우 B-tree를 뒤지는건 0.01초 걸렸다는 의미

검색 성능을 높이기 위해서 인덱스를 사용할 수 있다.

인덱스를 아무렇게나 만든다고 무조건 성능이 좋아지지 않는다.

잘 만들어야 한다.

데이터의 분포에 따라서 인덱스의 성능이 달라지는데, 인덱스를 어떤 경우에 적용해야하는지 이해해야한다.

데이터의 분포에 따라 인덱스를 적용하는 경우 속도의 차이는 DB별로 다르다. (MySQL 검색결과가 10~20%정도일 때 적용하는걸 권장)

mysql은 통계 정보를 가지고 있어서, 어떤 경우에 인덱스를 적용해야할 지 똑똑하게 결정한다.























