# 2020-02-12-TIL

## 오늘 할 일

- [x] https://d2.naver.com/helloworld/645609 읽어보기(호눅스의 추천!!) 꼭 읽자
- [ ] [자바지기님 TDD 영상](https://www.youtube.com/watch?v=cVxqrGHxutU) 보기
- [ ] STEP4 Test Code 작성
- [ ] 프로그래머스 2문제 풀기
- [ ] 코어 운동

## Java의 날짜와 시간 API 정리

Java8 이전 Date, Calendar ⇒ 사용이 불편

↳ Joda-Time Library 등을 만들어서 사용.

Java8 이후 ⇒ 개선된 날짜와 시간 API 제공

**날짜와 시간계산은 사회제도나 과학에 복잡하게 얽혀있음**

1. 1582년 10월 4일의 다음날은? (10월 15일)

   ↳ 율리우스력의 누적오차를 그레고리력을 적용하면서 교정하기위해 10일을 건너뜀
   `Calendar.getInstance()` 는 역사와 천문학이 복잡하게 얽힘
   ↳ Locale 정보에 따라 다른 Calendar를 반환함.

2. 우리나라 1988년 5월 7일 23시의 1시간 후는 5월 8일 1시
   ↳ 일광시간절약제 때문(확인은 `TimeZone.inDaylightTime()` 으로 한다.)
   그러나 이는 실제와 다름(http://blog.benelog.net/3120317) 에서 변경해주셨다!
   Java는 **시간대 데이터베이스** 에 있는 데이터를 기반으로 계산한다.

3. 우리나라 표준시 관련 문제도 있었다.

4. 윤초문제
   윤초는 계산하지 않는다. 그로 인한 Linux + Java 기반 시스템의 문제가 있었음.
   Google은 'leap smear' 기법으로 해당 문제를 미리 방지하였다.

Date 클래스가 UTC를 정확히 반영하느지 여부는 JVM의 실행환경에 의존적이다. (대부분의 컴퓨터는 안됨)

윤초 때문에 OS, Java, Middle Ware, Application의 Malfunction이 예상된다.

↳ 그래서 없애자는 얘기도 나온다.

**결론: 날짜와 시간은 어렵고, 복잡한 영역이고 배경지식 또한 필요로 한다.**

### Calendar와 Date 클래스의 문제

1. 불변객체가 아니다.
   내부 속성이 변경가능하여, 다른 곳에서 변경하면 결과에 영향이 있을 수 있다.
2. int 상수필드의 남용
   엉뚱한 값을 넣어도 Exception등의 오류가 발생하지 않아 잘못된 값을 넣었는지 알 수가 없다.
3. 일관성 없는 요일 상수
   넣을 때랑, 받을 때랑 값이 다르다.
4. Date와 Calendar의 문제
   복잡한 날짜계산은 Calendar를 이용하게 되는데 불필요한 중간 객체일 수 있다.
   또한, Date는 날짜와, 시간 모두를 저장하는 클래스인데, 이름이 Date다.
5. 시간대 지정에 둔감하다.
6. 하위 클래스의 문제
   - `java.sql.Date` ⇒ 왜 이름이 겹치지?, Comparable을 클래스에서 선언안함.
   - `java.sql.Timestamp` ⇒ equals의 대칭성을 어김(Effective Java에 해당내용있음)

**결론: 짱 좋은 Java8 날짜 시간 API를 사용하자.**

추가로 `equals` 나, `hashcode`, `toString`을 Overriding할 때에는 반드시 자동화 도구를 이용하여 구현하자.
이건 아마, `@Override` 애노테이션을 안 붙인 분 때문에 나온 얘기가 아닐까..?

## 자바지기님 TDD영상 정리



## STEP4 Test Code 작성



## 코딩테스트 문제 풀이



## 코어 운동

**전면 Level2**

**측면 Level1**

**후면 Level1**



## 맥에서 아이패드 충전이 제대로 안되는 경우

https://www.clien.net/service/board/lecture/11804930

맨 밑에 명령어를 쳐주면 된다고 한다.
나같은 경우에는 해피해킹 USB 단자에 꼽으면 전력이 필요하다고 뜨는데 그 때 Mac의 USB 포트에 꽂아주니 잘 되었다.