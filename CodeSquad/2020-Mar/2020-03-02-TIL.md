# 2020-03-02-TIL

## 오늘 할 일

- [x] 1917보기
- [x] STEP4 리뷰 내용 반영
- [x] 다른 분들 리뷰 정리하기
- [ ] STEP5 진행 (내일하기)
- [x] 프로그래머스 1문제 풀기
- [x] 김종민님 책 읽기
- [x] 의문점 정리하기
- [x] 회고하기
- [x] 운동하기

## 프로그래머스 1문제 풀기

- [x] 비밀 지도
  문제관리가 안되는 느낌 --... 출력값이 오류가 있어서 문제 조건을 잘못 읽은줄 알았다.

## 운동

- [x] 유연성
- [x] 코어운동
- [x] 가슴, 어깨

물구나무서다가 고꾸라졌다...

## 김종민님 책 읽기

전역 변수 보다는 전역 상수를 사용하자(전역 변수의 값을 추적하는 것은 매우 힘든과정이므로)

멀티 프로세스/멀티 스레드의 차이점 중 하나는 메모리 사용

- 멀티 프로세스는 한 프로세스가 다른 프로세스의 T 메모리 영역을 절대 침범할 수 없음
  - 그래서 메모리 사용량이 많다
- 멀티 스레드는 한 T메모리 영역에서 stack 영역만 분할 된 것이기 때문에 스태틱 영역과 힙 영역을 공유
  - 그래서 프로세스 대비 메모리를 적게 사용할 수 있는 구조
  - 그래서 서블릿은 요청당 프로세스가 아닌 요청당 스레드를 생성한다.

❓요청당 스레드(Servlet) vs 요청당 프로세스(CGI) ⇒ CGI가 뭐지?

마찬가지로 싱글톤 객체 또한 프로그램에서 하나 밖에 존재하지 않기 때문에, 여러 쓰레드가 접근해서 값을 바꿀 수 있는 멤버변수를 동기화 불가능한 자료구조로 저장하면 프로그램에 치명적 오류가 발생할 수 있다.

## 1917 보기

영화의 스토리가 단박에 들어왔다. 무엇보다 씬이 정말 몰입감 있게 흘러가고, 연출도 좋았다고 생각한다.

나타내고자 했던 의미도 딱 눈에 들어왔다. IMAX로 봤는데 IMAX로 보길 잘 한 영화라고 생각한다.

다만 아쉬운 점은 COVID19 덕분에 관객이 매우 적어서... 그 점이 안타깝다.

## 크리드 시향

- 어벤투스는 나랑 잘 안맞는 것 같다고 점원분이 그러셨다.
- 실버 마운틴 워터는 손목에 뿌려봤는데, 향이 시간이 지나니까 괜찮아졌다.
- 밀레지움 임페리얼이 첫향은 맘에 들었는데, 나랑 안어울릴 수도 있다고...
- 나랑 어울릴 것 같다는 오리지널 베티버도 괜찮은 것 같다.
- 어벤투스 보다는 어벤투스 포 허가 더 향은 좋은듯...
- 근데 너무 비싸다. 돈 많이 벌어야겠다 ㅋㅋㅋㅋㅋ 50ml에 33만원 😱
- 역시 가는게 아니었어...

## STEP4 리뷰 내용 반영

- [x] Common 을 세부 클래스로 나눠보는 것도 추천합니다. 개수와 종류가 늘어날 경우 중복된 데이터가 생길 수도 있습니다.
- [x] Answer, Question에 setDeleted는 제거하기. (delete 메소드 처럼 의미있는 메소드로 원복을 하는 것을 생각해 볼 수도 있음.) - 부작용을 유발할 수 있는 코드.
- [ ] Optional을 가져온다면, 조건문 처리를 할 수 있으므로, 굳이 예외를 발생시키지 않고 조건문으로 처리하는게 좋습니다. 아니면, 의도된 예외를 발생시켜 `@ControllerAdvice`나 `@ExceptionHandler`를 사용하여 일괄적인 예외처리를 해주는 편이 좋습니다.
- [x] `getUserEmail().equals(user.userEmail)` → `this.userEmail.equals(user.userEmail)`
- [x] 변수명은 userEmail보다 email이 좋을 것 같음. (근데, 이걸 고치면 바꿔야 하는게 많아서 사이드 이펙트가 우려됨. 일단 보류)
- [ ] try ~ catch 보다 `Objects.isNull()` 을 사용해서 조건문으로 처리해주는 것이 케이스마다 예외처리를 할 수 있음. 

## 블로그에 글 써보기

역시 글 쓰는건 오래걸리고 힘들다. 피곤하다 ㅠㅠ

간단하게 블로그를 하게 된 이유, 도메인을 가지고 해본것에 대해서 적었는데 한시간이 흘러버렸다.

## 의문점

1. 일급 컬렉션이 뭐지? (https://jojoldu.tistory.com/412)
2. 

## 다른 분들 리뷰 정리

### STEP1

- index의 의미에 대해서 생각해보기. 0으로 생성자에서 할당하는 이유는??
- 의미 없는 setter 코드가 어떤 부작용을 가지고 오는지, 방어 코드를 어떻게 작성할 것인지(null 체크)
  - null이 발생할 상황을 항상 염두에 두는게 중요한 것 같다.
- 객체지향적 설계(`checkIndex` 메소드는 question이 가지는게 맞지 않을까요?)
  또한, 객체에 종속된 메소드가 외부에 위치한다면 코드가 전체적으로 달라져야 할 수도 있음.
  ⇒ 누락된다면, 에러발생 포인트가 될 수 있음.
- REST api url 디자인

### STEP2

- `@MappedSuperclass` https://github.com/code-squad/java-qna/pull/172#commitcomment-37475629
- dependency는 어디에 있는지 파악하고 그 저장소만 추가해주면 된다.
- `Lombok` 도움 없이 프로그래밍 해볼 것(https://github.com/code-squad/java-qna/pull/172#discussion_r386098934)
- `@Query` 어노테이션은 정확히 이해하고 **꼭 필요할 때만 사용한다.** https://github.com/code-squad/java-qna/pull/172#discussion_r385953500
- [@Transactional이 필요한 상황](https://github.com/code-squad/java-qna/pull/172#discussion_r385953993)
- save를 수행했을 때 수행한 해당 객체를 그대로 리턴해주는 것이 **안전**하다. https://github.com/code-squad/java-qna/pull/172#discussion_r385954818
- 생성자로 바로 받기보다는, 다양한 경우를 위한 생성자를 `protected` 나 `private` 로 선언한 뒤에, static 메소드로 객체를 만들어주는 방식도 생각해보기.
- `@EnableJpaAuditing` 이 없는데 잘 동작하나요..? -잘 모르겠음. https://github.com/code-squad/java-qna/pull/172#discussion_r385959100
- setter 개방하는 경우 왜 개방했는지 생각해보기. (id의 경우에는 아무런 제약없이 수정할 경우 중복키, pk 수정등의 문제가 발생가능)
- url에는 복수형을 사용(Rest api url 디자인 원칙)
- 최대한 생각할 수 있는 예외 상황에 대한 체크 및 처리 잘하기
- 충돌 안나는 PR 보내기

### STEP3

- 메소드의 리턴값을 `Optional` 로 사용해보는 것을 추천
- id 프로퍼티가 private가 아닌 이유는? 접근 제어자를 잘 할당합시다.
  객체지향 - 캡슐화 관련 (누군가 내 정보(객체)를 변경할 수 없도록 방지 ) - null 체크도 포함
- [게터/세터를 모두 선언해주지말자.](https://developerfarm.wordpress.com/2012/02/01/object_calisthenics_10/)
  자주 나옴
- 배열은 되도록이면 사용하지 말기.
- 로그인 체크 → DB 조회하도록 하기 (불필요한 query가 안나가도록 하기) → 네트워크 응답 시간 감소하도록
- null 처리 잘 하기

### STEP4

- Common 을 세부 클래스로 나눠보는 것도 추천합니다. 개수와 종류가 늘어날 경우 중복된 데이터가 생길 수도 있습니다.
- Answer, Question에 setDeleted는 제거하기. (delete 메소드 처럼 의미있는 메소드로 원복을 하는 것을 생각해 볼 수도 있음.) - 부작용을 유발할 수 있는 코드.
- Optional을 가져온다면, 조건문 처리를 할 수 있으므로, 굳이 예외를 발생시키지 않고 조건문으로 처리하는게 좋습니다. 아니면, 의도된 예외를 발생시켜 `@ControllerAdvice`나 `@ExceptionHandler`를 사용하여 일괄적인 예외처리를 해주는 편이 좋습니다.
- `getUserEmail().equals(user.userEmail)` → `this.userEmail.equals(user.userEmail)`
- 변수명은 userEmail보다 email이 좋을 것 같음. (근데, 이걸 고치면 바꿔야 하는게 많아서 사이드 이펙트가 우려됨. 일단 보류)
- try ~ catch 보다 `Objects.isNull()` 을 사용해서 조건문으로 처리해주는 것이 케이스마다 예외처리를 할 수 있음. 

## 스프링 자바 객체지향 원리와 이해 읽기



## 오늘의 회고

영화가 정말 재밌었다. 코로나만 아니었으면 흥행에 성공했을 법한 영화다.

향수 시향도 좋았다. 아직도 향기가 난다. :D 근데 비싸서 나중을 위해...

서점도 둘러보았다. 책은 안샀다. 몇 몇 인문책을 보면서 삶에 대한 위안을 얻었다.
내 생각에 SNS중독을 해결하는 방법은 독서 중독이 되는 것이다.

물구나무 서다가 자빠졌다. 😅

항상 개발을 즐겁게 하는 자세가 중요하다고 생각한다. 개발하는 나 자신은 행복하다. 앞으로도 그럴 것이다.

주간 계획을 좀 세워봐야겠다.

벌써 학원에 가고싶다. 방학이 이렇게 싫을줄이야...

돈 좀 아껴써야겠다. 이번달 카드값 왜이리 많이 나오지... 해피해킹을 빨리 처분해야겠다!

내일은 아침시간에 집중해서 할 일을 해보자!

## 내일 할 일

- [ ] STEP5 진행하기
- [ ] 프로그래머스 1문제 풀기
- [ ] 스프링 자바 객체지향 원리와 이해 읽기
- [ ] 의문점 정리하기
- [ ] 회고하기
- [ ] 운동하기
