# 2020-02-24-TIL

## 오늘 할 일

- [x] 코드스쿼드 수업
- [ ] 가슴, 등, 코어 운동
- [ ] 프로그래머스 1문제 풀기
- [ ] STEP3 진행하기
- [ ] 자바 메모리 구조 공부하기

## 코드스쿼드 수업

### 자바 테크트리

1. 자바 기초책(아무거나)
2. 김종민님 책(객체지향 스프링)
3. 최범균 스프링
4. 선택
   1. 조영호 토끼책
   2. 토비의 스프링
   3. 조영호 오브젝트
   4. 이펙티브 자바
5. 이후로는 자유롭게

### 공부하는 방법

1. 책을 본다.
   - 반드시 기록하면서 본다.
     - 내가 몰랐던 내용, 실수했던 내용을 기록한다.
   - 코딩은 전부 타이핑 한다.
2. 덮는다
3. 다시 꺼낸다
4. 뒷 부분 부터 본다
5. 다 읽어도 기억이 안난다.
6. 다른 책을 본다. (그 책에 답이 없을 확률이 있기 때문에...)

책을 추천하는 이유: 책을 보다가 스스로 생각할 시간이 있기 때문에 (모든걸 의심하라)

### 백엔드 공부

- 자바
- 스프링
- HTTP
- DB
- 운영체제 (프로세스, 스레드, 메모리, 파일 IO)

### 옵션

- Git

- 배포
- 클라우드
- 리눅스 사용법

`@Controller` 어노테이션을 붙이면

`return "redirect:/users/" + id;`

→ 리다이렉트 요청 HTTP 301 /localhost:8080/users/1 같은 식으로

→ 브라우저는 다시 GET localhost:8080/users/1 로 응답을 보냄

`return "/users/list";` << 이건 url이 아님

model을 view에 전달하고, view → /users/list.html 이라는 템플릿 붙임

- forward
  요청 → 서블릿 → (forward) 서블릿 → 응답
  요청에 대해서 응답을 서버 내부에서 전달하는 것
- 스프링에선 요청 → 컨트롤러의 메소드 → 응답

단어의 함정에 빠지지 말자

`return "/users/login"` 과 `return "redirect:/users/login"` 응답의 차이

첫 번째 경우는 브라우저의 요청에 따라 결과가 달라진다고 볼 수 있음

두 번째 경우는 다른 페이지에 요청을 보내라는 의미.

- [ ] CTX (application context) ⇒ 백기선님 스프링강좌 보기

### HTTP 강의

Http Request, Response

Client - DNS Client - OS DNS Client - 공유기 DNS Client - DNS Server ... 의 계층 구조(가용성, 내구성, 안정성)

→ 요청이 몰리는 것을 방지하기 위함

SLA(Service Level Aggrement) 99.99% 가동률 보장

DNS Caching → 캐싱의 장점, 응답 속도가 빨라짐, 부하도 줄여줌.

단점: 달라질 수 있다.

- 서비스 레벨에서는 DNS Flush

1. DNS Record 캐시데이터에 만료시간을 지정해줌

2. 원본 데이터와 캐시된 데이터의 정합성을 비교함

hyper → 아(보완) 이질적이지만 더 포함하고 있다.

브라우저 - 웹서버 (일종의 소켓통신)

소켓의 메타포 → 전화기

소켓 생성 후 주고 받은 후 끊음(읽고 쓰는건 버퍼로 처리함(비동기))

HTTP1.1 부터는 keep-alive를 이용해서 소켓이 끊어지지 않게 할 수 있다.

비잔틴 ~문제: 서버와 클라이언트가 연결되어있는지 확인하는 문제(확신할 수 있는 상태는 없다.)

→TCP 맺을 때, 3way hand shaking 4way hand shaking: 확률적으로 확신할 수 있음.

Protocol은 정해진 규칙을 준수하는 문자열

응답별로 다른 형식을 가짐

pragmentation

요청에서 가장 중요한 것 Request Line

Header의 Contents Length는 Body의 길이

우리는 HTTP Response를 만들어 내는 코딩을 한다.

Response는 Status Line

## 다른 분들 리뷰 정리하기

### STEP1

- gitignore 설정시 불필요한 파일 빼기
- index라는 매핑은 정확히 말하면 색인 페이지에 사용해야 함.
- RESTful에 대해서 공부하고 왜 url에 동사형이 사용되면 안되는지 고민하기
- 불필요한 공백라인은 최대한 줄여주세요.
- 코드 포맷팅에 신경써주세요.

### STEP2

- return template 명은 forward 해주는 것이 아니라 template을 지정해주는 것.
- `@Transient` 어노테이션의 사용
- 메소드에서 직접 에러를 처리해주는게 아니라, 다른 곳으로 redirect 시켜서 처리하도록 하는 것은 어떨까요?
- 에러를 찍을 땐, `System.err`를 사용하는 것이 좋습니다. (더 좋은 것은 로그 구현체의 사용)
- try-catch에서 아무처리도 안하는 catch는 안하는게 좋습니다.
- 모델에 List를 직접 추가해주세요.

